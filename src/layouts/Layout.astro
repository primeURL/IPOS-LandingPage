---
import SEOHead from '../components/SEOHead.astro';
import '../styles/global.css';

interface Props {
  title?: string;
  description?: string;
  image?: string;
  noindex?: boolean;
}

const {
  title = "Interview Prep OS - AI-Powered Interview Preparation",
  description = "Master technical interviews with IPOS. Get automated study plans, progress tracking, spaced repetition, and smart notes. Free forever.",
  image = "/images/og-image.jpg",
  noindex = false
} = Astro.props;
---

<!doctype html>
<html lang="en" class="scroll-smooth">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <link rel="manifest" href="/manifest.json" />
    
    <!-- Preconnect to important domains -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    
    <!-- Google Fonts - Inter -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet" />
    
    <!-- SEO Meta Tags -->
    <SEOHead 
      title={title}
      description={description}
      image={image}
      noindex={noindex}
    />

    <meta name="generator" content={Astro.generator} />
  </head>
  <body class="bg-gradient-to-br from-slate-950 via-blue-950 to-slate-900 text-white antialiased">
    <slot />
    
    <!-- Performance optimization: Defer non-critical scripts -->
    <script is:inline>
      // Smooth scroll polyfill for older browsers
      if (!('scrollBehavior' in document.documentElement.style)) {
        import('https://cdn.jsdelivr.net/npm/smoothscroll-polyfill@0.4.4/dist/smoothscroll.min.js')
          .then(module => module.polyfill());
      }
    </script>
  </body>
</html>
